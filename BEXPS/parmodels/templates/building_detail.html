{% extends "base.html" %}
{% block title %}{{ building.name }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-start mb-3">
  <div>
    <a class="text-secondary text-decoration-none" href="{% url 'parmodels:building_list' %}">← назад</a>
    <h1 class="h4 mt-2 mb-1">{{ building.name }}</h1>
    <div class="text-secondary">{{ building.address }}</div>
  </div>
  <a class="btn btn-outline-secondary" href="/admin/parmodels/location/" target="_blank">Локации в админке</a>
</div>

<div class="row g-3">
  <div class="col-12 col-lg-7">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h2 class="h6 mb-0">Локации</h2>
          <span class="text-secondary small">кликни по локации</span>
        </div>

        {% if locations %}
          <div class="list-group list-group-flush">
            {% for loc in locations %}
              <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
                 href="{% url 'parmodels:location_detail' building.id loc.id %}">
                <div>
                  <div class="fw-semibold">{{ loc.name }}</div>
                  <div class="text-secondary small">
                    тип: {{ loc.location_type }}{% if loc.parent %} · родитель: {{ loc.parent.name }}{% endif %}
                  </div>
                </div>
                <span class="badge text-bg-light">id {{ loc.id }}</span>
              </a>
            {% endfor %}
          </div>
        {% else %}
          <div class="text-secondary">Локаций пока нет</div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
